/* Base + theme */
:root { --bg: #0c0f13; --fg: #f8fafc; --muted: #64748b; }
html,body{padding:0;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;background:var(--bg);color:var(--fg);-webkit-font-smoothing:antialiased}
*{box-sizing:border-box}
h1,h2,h3{margin:0 0 .5rem 0;font-weight:600}
p{margin:0 0 1rem 0;line-height:1.5}

/* Scale */
:root{--card:#12161d;--card-2:#1a2027;--card-border:rgba(255,255,255,.08);--accent:#6366f1;--accent-hover:#4f46e5;--muted-2:#94a3b8;--glass:rgba(255,255,255,.04);--radius-sm:6px;--radius-md:10px;--radius-lg:18px;--gap-xs:4px;--gap-sm:8px;--gap-md:16px;--gap-lg:24px;--shadow-sm:0 4px 12px -2px rgba(0,0,0,.4);--shadow-md:0 10px 34px -8px rgba(0,0,0,.55)}

/* Layout */
.app-shell{min-height:100vh;display:flex;flex-direction:column;background:radial-gradient(circle at 20% 20%,#202835,#0c0f13 70%);}
.app-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 2rem;border-bottom:1px solid var(--card-border);backdrop-filter:blur(8px);background:rgba(18,22,29,.65)}
.brand{display:flex;align-items:center;gap:.75rem}
.logo{width:42px;height:42px;border-radius:var(--radius-md);background:linear-gradient(135deg,var(--accent),var(--accent-hover));color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;letter-spacing:.5px;font-size:.75rem}
.brand-title{font-size:1rem;font-weight:600;color:#fff}
.top-nav{display:flex;gap:1.1rem}
.nav-link{color:var(--muted-2);text-decoration:none;font-size:.8rem;padding:.4rem .65rem;border-radius:var(--radius-sm);transition:.15s background,color}
.nav-link:hover{background:rgba(255,255,255,.05);color:#fff}
.app-main{flex:1;display:flex;align-items:stretch;justify-content:center;padding:2rem}
.app-footer{padding:.85rem 2rem;text-align:center;color:var(--muted-2);font-size:.7rem;border-top:1px solid var(--card-border);background:rgba(18,22,29,.6);backdrop-filter:blur(6px)}

/* Panels */
.home-wrap{width:100%;display:flex;align-items:flex-start;justify-content:center;gap:var(--gap-md)}
.chat-card{width:50%;min-width:500px;min-height:640px;background:linear-gradient(145deg,var(--card),var(--card-2));border:1px solid var(--card-border);border-radius:var(--radius-lg);overflow:visible;display:flex;box-shadow:var(--shadow-md);position:relative;margin-bottom:80px}
.calendar-panel{width:50%;min-width:500px;min-height:640px;background:linear-gradient(145deg,var(--card),var(--card-2));border:1px solid var(--card-border);border-radius:var(--radius-lg);overflow:hidden;box-shadow:var(--shadow-md)}
.sidebar{width:240px;padding:var(--gap-lg) var(--gap-md);background:rgba(255,255,255,.02);border-right:1px solid var(--card-border);color:var(--muted-2);display:flex;flex-direction:column;gap:var(--gap-lg)}
.sidebar-brand{font-weight:600;color:#fff;font-size:.95rem;letter-spacing:.5px}
.examples h3{color:var(--muted-2);margin-bottom:var(--gap-sm);font-size:.7rem;font-weight:600;letter-spacing:.5px;text-transform:uppercase}
.example{display:block;width:100%;text-align:left;padding:.65rem .75rem;border-radius:var(--radius-md);background:rgba(255,255,255,.02);border:1px solid var(--card-border);color:var(--muted-2);margin-bottom:var(--gap-sm);cursor:pointer;font-size:.78rem;transition:.15s background,border-color,color}
.example:hover{background:rgba(255,255,255,.06);color:#fff;border-color:rgba(255,255,255,.16)}
.footer-help{margin-top:auto;font-size:.65rem;color:var(--muted-2);opacity:.75}

/* Chat area */
.chat-area{flex:1;display:flex;flex-direction:column;min-width:0;height:100%;max-height:640px}
.chat-header{padding:var(--gap-md) var(--gap-lg);border-bottom:1px solid var(--card-border);color:#fff;font-weight:500;font-size:.85rem;letter-spacing:.3px;flex-shrink:0}
.messages{flex:1;padding:var(--gap-lg) var(--gap-lg) var(--gap-md);overflow-y:auto;overflow-x:hidden;background:linear-gradient(180deg,rgba(255,255,255,.015),transparent);min-height:0}
.message{max-width:70%;padding:.7rem .85rem;border-radius:var(--radius-md);margin-bottom:var(--gap-sm);color:#e8eef5;background:rgba(255,255,255,.03);font-size:.78rem;line-height:1.35;border:1px solid transparent}
.message.bot{background:linear-gradient(145deg,rgba(99,102,241,.18),rgba(99,102,241,.08));border-color:rgba(99,102,241,.3)}
.message.user{margin-left:auto;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);color:#fff}

/* Input / buttons */
.input-area{display:flex;gap:var(--gap-sm);padding:var(--gap-md) var(--gap-lg);border-top:1px solid var(--card-border);background:rgba(255,255,255,.015);backdrop-filter:blur(4px);flex-shrink:0;align-items:flex-end}
.input-area input{flex:1;padding:.7rem .85rem;border-radius:var(--radius-md);border:1px solid var(--card-border);background:rgba(255,255,255,.025);color:#fff;font-size:.78rem}
.input-area input:focus{outline:2px solid var(--accent-hover);outline-offset:2px}
.btn-icon{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;font-size:1.2rem;border-radius:var(--radius-md);border:1px solid var(--card-border);background:rgba(255,255,255,.04);color:var(--muted-2);cursor:pointer;transition:.15s background,border-color,color}
.btn-icon:hover:not(:disabled){background:rgba(255,255,255,.08);color:#fff}
.btn-icon:disabled{opacity:.5;cursor:not-allowed}
.attached-files{display:flex;flex-wrap:wrap;gap:var(--gap-xs);margin-bottom:var(--gap-xs)}
.file-chip{display:inline-flex;align-items:center;gap:var(--gap-xs);padding:.35rem .5rem;background:rgba(99,102,241,.15);border:1px solid rgba(99,102,241,.3);border-radius:var(--radius-sm);font-size:.7rem;color:#fff}
.file-preview{width:32px;height:32px;object-fit:cover;border-radius:var(--radius-sm);margin-left:-.25rem}
.file-name{max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.file-remove{background:none;border:none;color:rgba(255,255,255,.6);font-size:1.2rem;line-height:1;cursor:pointer;padding:0 0 0 .25rem;transition:.15s color}
.file-remove:hover{color:#fff}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;font-size:.72rem;font-weight:500;padding:.65rem .85rem;border-radius:var(--radius-md);border:1px solid var(--card-border);background:rgba(255,255,255,.04);color:#fff;cursor:pointer;transition:.15s background,border-color,color,box-shadow}
.btn:hover{background:rgba(255,255,255,.08)}
.btn-accent{background:var(--accent);border-color:var(--accent);color:#fff}
.btn-accent:hover{background:var(--accent-hover)}

/* Tabs & forms */
.tabs{display:flex;gap:var(--gap-sm);}
.tab{background:rgba(255,255,255,.04);border:1px solid var(--card-border);color:var(--muted-2);padding:.55rem .9rem;font-size:.7rem;font-weight:500;border-radius:var(--radius-md);cursor:pointer;transition:.15s background,color,border-color}
.tab-active,.tab:hover{background:rgba(255,255,255,.08);color:#fff;border-color:rgba(255,255,255,.16)}
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:var(--gap-md);margin-top:.5rem}
.form-field{display:flex;flex-direction:column;gap:.4rem;font-size:.65rem;color:var(--muted-2)}
.form-field input{padding:.6rem .75rem;border-radius:var(--radius-md);border:1px solid var(--card-border);background:rgba(255,255,255,.03);color:#fff;font-size:.75rem}
.form-field input:focus{outline:2px solid var(--accent-hover);outline-offset:2px}
.error-banner{background:rgba(220,38,38,.18);border:1px solid rgba(220,38,38,.4);color:#fecaca;padding:.55rem .7rem;border-radius:var(--radius-md);font-size:.7rem}
.success-banner{background:rgba(34,197,94,.18);border:1px solid rgba(34,197,94,.4);color:#bbf7d0;padding:.55rem .7rem;border-radius:var(--radius-md);font-size:.7rem}

/* Responsive */
@media (max-width:1200px){
  .home-wrap{flex-direction:column}
  .chat-card,.calendar-panel{width:100%;min-width:auto}
  .sidebar{width:100%;flex-direction:row;gap:var(--gap-md);overflow:auto;padding:var(--gap-md)}
  .examples{min-width:220px}
}
@media (max-width:880px){
  .messages{padding:var(--gap-md) var(--gap-md)}
}

body,.chat-card,.message,.sidebar{color:rgba(255,255,255,.9)}

/* Utilities */
.stack-sm{display:flex;flex-direction:column;gap:var(--gap-sm)}
.stack-md{display:flex;flex-direction:column;gap:var(--gap-md)}
.row-sm{display:flex;gap:var(--gap-sm)}
.row-md{display:flex;gap:var(--gap-md)}

/* Walking Character */
.walking-character{position:absolute;bottom:-60px;z-index:10;pointer-events:none;transition:left .1s linear}
.character-body{position:relative;display:flex;flex-direction:column;align-items:center}
.character-sprite{font-size:3rem;animation:gallop .4s ease-in-out infinite;filter:drop-shadow(0 4px 8px rgba(232,119,34,.5)) drop-shadow(0 0 20px rgba(35,45,75,.3))}
.thinking-bubble{position:absolute;top:-40px;background:rgba(255,255,255,.95);border:2px solid #e87722;border-radius:20px;padding:.5rem .75rem;animation:float 1s ease-in-out infinite}
.thinking-dots{display:flex;gap:.25rem}
.thinking-dots span{width:6px;height:6px;background:#232d4b;border-radius:50%;animation:blink 1.4s ease-in-out infinite}
.thinking-dots span:nth-child(2){animation-delay:.2s}
.thinking-dots span:nth-child(3){animation-delay:.4s}

@keyframes gallop{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
@keyframes blink{0%,100%{opacity:.3}50%{opacity:1}}

/* Calendar styling */
.calendar-container{height:100%;display:flex;flex-direction:column;overflow:hidden}
.calendar-header{padding:var(--gap-lg) var(--gap-lg) var(--gap-md);border-bottom:1px solid var(--card-border);display:flex;align-items:center;justify-content:space-between}
.calendar-header h2{margin:0;font-size:1rem;font-weight:600;color:#fff}
.event-count{font-size:.7rem;color:var(--muted-2);background:rgba(255,255,255,.04);padding:.35rem .65rem;border-radius:var(--radius-sm);border:1px solid var(--card-border)}

.schedule-view{flex:1;overflow-y:auto;padding:var(--gap-md) var(--gap-lg)}
.day-block{margin-bottom:var(--gap-lg)}
.day-header{font-size:.75rem;font-weight:600;color:var(--muted-2);text-transform:uppercase;letter-spacing:.5px;margin-bottom:var(--gap-sm);padding-bottom:var(--gap-xs);border-bottom:1px solid var(--card-border)}

.timeline{display:flex;flex-direction:column;gap:var(--gap-sm)}

.event-block{background:linear-gradient(135deg,rgba(99,102,241,.15),rgba(99,102,241,.08));border:1px solid rgba(99,102,241,.3);border-radius:var(--radius-md);padding:var(--gap-sm) var(--gap-md);display:flex;align-items:flex-start;gap:var(--gap-md);position:relative;transition:.15s all}
.event-block:hover{background:linear-gradient(135deg,rgba(99,102,241,.22),rgba(99,102,241,.12));border-color:rgba(99,102,241,.45)}

.event-time{font-size:.7rem;font-weight:600;color:var(--accent);min-width:130px;white-space:nowrap;padding-top:2px}
.event-content{flex:1;min-width:0}
.event-title{font-size:.8rem;font-weight:500;color:#fff;margin-bottom:.25rem}
.event-description{font-size:.7rem;color:var(--muted-2);line-height:1.3}

.delete-btn{position:absolute;top:.5rem;right:.5rem;width:24px;height:24px;border-radius:50%;background:rgba(220,38,38,.15);border:1px solid rgba(220,38,38,.3);color:#fca5a5;font-size:1.2rem;line-height:1;cursor:pointer;opacity:0;transition:.15s all;display:flex;align-items:center;justify-content:center;padding:0}
.event-block:hover .delete-btn{opacity:1}
.delete-btn:hover{background:rgba(220,38,38,.25);border-color:rgba(220,38,38,.5);color:#fecaca}

.free-time-block{background:rgba(255,255,255,.02);border:1px dashed var(--card-border);border-radius:var(--radius-md);padding:var(--gap-sm) var(--gap-md);display:flex;align-items:center;gap:var(--gap-md)}
.time-range{font-size:.7rem;color:var(--muted-2);min-width:130px;white-space:nowrap}
.free-label{font-size:.7rem;color:var(--muted-2);font-style:italic;opacity:.7}

.rbc-calendar{background:transparent;color:var(--fg)}
.rbc-header{background:rgba(255,255,255,.03);border-color:var(--card-border)!important;color:var(--muted-2);padding:.65rem;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}
.rbc-today{background:rgba(99,102,241,.08)!important}
.rbc-event{background:linear-gradient(135deg,var(--accent),var(--accent-hover))!important;border:none!important;border-radius:var(--radius-sm);font-size:.7rem;padding:.25rem .4rem}
.rbc-event:hover{box-shadow:0 2px 8px rgba(99,102,241,.4)}
.rbc-month-view,.rbc-time-view,.rbc-agenda-view{background:transparent;border-color:var(--card-border)!important}
.rbc-day-bg,.rbc-time-slot{border-color:var(--card-border)!important}
.rbc-off-range-bg{background:rgba(0,0,0,.15)}
.rbc-current-time-indicator{background:var(--accent)}
.rbc-toolbar{margin-bottom:var(--gap-md);display:flex;justify-content:space-between;flex-wrap:wrap;gap:var(--gap-sm)}
.rbc-toolbar button{background:rgba(255,255,255,.04);border:1px solid var(--card-border);color:var(--muted-2);padding:.5rem .75rem;border-radius:var(--radius-sm);font-size:.7rem;cursor:pointer;transition:.15s}
.rbc-toolbar button:hover,.rbc-toolbar button.rbc-active{background:rgba(255,255,255,.08);color:#fff;border-color:rgba(255,255,255,.16)}
.rbc-month-row,.rbc-date-cell{color:var(--fg)}
.rbc-date-cell a{color:var(--muted-2)}
.rbc-slot-selection{background:rgba(99,102,241,.2)!important}
